# DB_SBER_HOMEWORK_4
![image](https://github.com/simon0018/DB_SBER_HOMEWORK_4/assets/89707757/83aad48d-d420-44c6-8421-70d6d3f4eba3)


## История развития СУБД и общие сведения
BaseX — компактная система управления базами данных XML, разрабатываемая в рамках коллективного проекта на платформе GitHub. Эта система преимущественно применяется для сохранения, запроса и визуализации объёмных XML-документов и XML-коллекций. BaseX может быть использован в различных операционных системах, на основании свободной Open-Source-лицензии.

BaseX позволяет работать с XML-документами различных размеров и форматов, в том числе с документами, состоящими из множества вложенных элементов и атрибутов, схем и пространств имен. Она поддерживает многие стандарты, такие как XQuery, XPath, XSLT, XInclude, XUpdate, а также более экспериментальные стандарты, такие как XQuery Update, Full Text Search и WebDAV.

Одна из главных особенностей BaseX - это скорость выполнения запросов. Благодаря своей оптимизированной архитектуре и использованию индексов, BaseX может обрабатывать большие объемы данных в режиме реального времени, обеспечивая высокую производительность и эффективность работы с данными.

Разработка BaseX началась в 2002 году в университете Констанца (Германия) под руководством Профессора Др. Мартина Хеффера и Др. Кристиана Грюнда. Изначально она была написана на языке Java как учебный проект для работы с XML-документами.

В 2005 году система была открыта для общественности, и с тех пор она активно развивается благодаря вкладу множества разработчиков и сообщества пользователей. Она стала одной из самых популярных систем управления XML данными с открытым исходным кодом, и получила множество наград за свою эффективность и инновационность.
С 2007 года BaseX распространяется в открытых исходных текстах.

В 2016 году вышла версия BaseX 8.0, которая предоставила новые возможности, такие как поддержка XQuery Update, обработка JSON данных и оптимизация производительности
Также СУБД постоянно поддерживается недавно было обновлено до 10.0

## Инструменты для взаимодействия с СУБД

BaseX имеет множество инструментов для взаимодействия с системой и управления базами данных, в том числе:

1. Консольный интерфейс командной строки (BaseX CLI) - это основной способ управления системой и выполнения запросов на языке XQuery или XPath. Он предоставляет широкий набор команд для работы с базами данных, включая создание, удаление, копирование, импорт и экспорт данных.

2. Графический интерфейс (BaseX GUI) - это инструмент для визуализации данных и выполнения запросов на языке XQuery или XPath с помощью графического интерфейса пользователя. Он предоставляет удобный интерфейс для работы с данными и позволяет легко создавать и редактировать запросы.

3. REST API - это интерфейс для работы с данными по протоколу HTTP через RESTful веб-сервисы. Он предоставляет возможность удаленного доступа к базе данных и выполнения запросов на языке XQuery или XPath с помощью стандартных HTTP-запросов.

## Какой database engine используется в вашей СУБД
BaseX использует собственный database engine, разработанный специально для работы с XML-документами. Этот engine реализован на языке Java и предназначен для эффективного хранения, поиска, индексации и обработки XML-данных.

Database engine в BaseX представляет собой связь между базой данных и системой управления базами данных (DBMS). Engine обрабатывает запросы, выполняет индексацию и поиск данных, обеспечивает целостность базы данных.

Особенностью database engine в BaseX является использование гибкой структуры данных, основанной на структуре древовидного индекса. Она позволяет эффективно хранить и быстро находить XML-документы, а также выполнить множество операций над ними, включая поиск, фильтрацию, сортировку, агрегацию и т.д.

Таким образом, использование собственного database engine позволяет BaseX обеспечивать высокую производительность и эффективность при работе с XML-данными, а также обеспечивать гибкость и расширяемость системы в целом.

## Как устроен язык запросов в BaseX? Разверните БД с данными и выполните ряд запросов 
Язык запросов в BaseX называется XQuery и он основан на языке XPath. XQuery позволяет получать данные из базы данных в соответствии с заданными условиями. Запросы XQuery состоят из команд, которые могут быть применены к элементам, атрибутам, тексту и другим узлам XML-документа.

Основные элементы языка запросов XQuery включают в себя:

Пространства имен: определяют префиксы, используемые для ссылки на элементы и атрибуты в запросах.
Переменные: используются для хранения значений и для передачи значений между различными частями запроса.
Условные операторы: позволяют выполнить определенные действия, если определенное условие истинно или ложно.
Циклы: используются для повторения определенных действий над набором данных.
Функции: представляют собой готовые инструменты для выполнения различных операций, таких как поиск, сортировка, агрегирование и многие другие.
Примеры запросов для базы данных библиотеки:
Запрос открывает базу данных  и ищет все элементы с именем "book", затем возвращает их.

```
for $book in doc("books.xml")//book
return $book
```

Получить все книги, написанные автором "George Orwell"

`
for $book in doc("books.xml")//book
where $book/author = "George Orwell"
return $book
`


Получить список всех книг в алфавитном порядке

`
for $book in doc("books.xml")//book
order by $book/title
return $book/title
`

## Возможно ли распределение файлов БД по разным носителям?
Да, в BaseX возможно распределение файлов базы данных (БД) по разным носителям. Это может быть полезным, если база данных становится слишком большой для одного носителя, или если требуется более надежное хранение данных с использованием резервных копий на другом носителе.

Для распределения файлов базы данных необходимо выполнить несколько шагов:

1. Создайте новую БД или откройте существующую БД в BaseX.

2. Введите команду `SET STORAGE` и укажите путь к каталогу, где должны храниться файлы базы данных. Например, `SET STORAGE /path/to/database/files`.

3. Используйте команду `BACKUP` для создания резервной копии БД. Эта команда скопирует все файлы БД в указанный каталог хранения.

4. При необходимости переместите файлы БД на другой носитель.

5. Используйте команду `RESTORE` для восстановления резервной копии в новом расположении файлов. Например, `RESTORE /path/to/new/database/files`.

После выполнения этих шагов BaseX будет использовать новое расположение файлов БД. Обратите внимание, что при перемещении файлов БД необходимо убедиться, что новое расположение файлов доступно для чтения и записи, и что BaseX может получить к ним доступ.

## На каком языке программирования написана СУБД?

BaseX написан на языке программирования Java. Это означает, что BaseX может работать на любой платформе, которая поддерживает Java Virtual Machine (JVM), включая Windows, macOS, Linux и многие другие операционные системы.

## Какие типы индексов поддерживаются в БД? Приведите пример создания индексов
BaseX умеет индексировать структуру XML, атрибуты, текст, и даже делать полнотекстовый индекс (для ограниченного количества языков). Бочка дегтя заключается в том, что один из типов индексов статичен, т.е. обновление данных приводит к инвалидации индекса, а второй, динамический, — медленный. Деградация по скорости на операциях вставки данных достигает порядка.

База данных может иметь только один тип индекса, статический или обновляемый, без права смены индекса. Чтобы провести операцию изменения, нужно сделать экспорт данных, создать базу с другим типом индекса, и залить данные наново.

В целом, индексирование оставляет желать лучшего.
Для создания индекса в BaseX можно использовать команду CREATE INDEX. Синтаксис этой команды следующий:

`
CREATE INDEX index_name ON collection_name(index_type, index_expression)
`

Где:

index_name - название индекса;
collection_name - название коллекции, на которую надо создать индекс;
index_type - тип индекса (например, text, attribute, token, fulltext);
index_expression - XPath выражение для выбора узлов, на которые будет создан индекс.
Пример создания индекса типа text на коллекции mycollection по элементу title:

`
CREATE INDEX title_text_idx ON mycollection(text, //title)

`

После создания индекса можно использовать его в запросах, например:

`
// Выбор всех элементов, у которых значение поля title содержит слово "example"
for $doc in collection('mycollection')
where contains($doc//title, "example")
return $doc

`

## Как строится процесс выполнения запросов в вашей СУБД?
Процесс выполнения запросов в BaseX включает несколько этапов. В общем случае он выглядит следующим образом:

1. Поступление запроса: пользователь вводит запрос на языке XQuery или XPath в интерфейсе BaseX.

2. Парсинг запроса: запрос разбирается на отдельные лексемы и проверяется на синтаксическую корректность.

3. Оптимизация запроса: на основе статистических данных об индексах и распределении данных в базе данных BaseX генерирует оптимизированный план выполнения запроса.

4. Выполнение запроса: сформированный план запроса выполняется в соответствии с определенными правилами, в результате чего формируется набор результатов.

5. Возврат результатов: результаты запроса возвращаются пользователю в виде текстового вывода или набора данных.

В целом, процесс выполнения запросов в BaseX оптимизирован для обработки больших объемов данных и обеспечивает высокую производительность и скорость выполнения запросов.

## Есть ли для вашей СУБД понятие "план запросов"? Если да, объясните, как работает данный этап.
Да, в BaseX есть понятие "план запросов" (query plan).

План запроса в BaseX генерируется автоматически и оптимизируется для конкретной базы данных. Он строится на основе множества факторов, таких как структура базы данных, индексы, размер данных, доступность ресурсов и другие параметры.

При генерации плана запроса BaseX использует схему оптимизации, которая определяет порядок обработки операторов запроса. В зависимости от типа запроса и структуры базы данных, схема оптимизации может использовать индексы, кэширование данных, параллельное выполнение и другие методы для ускорения выполнения запросов.

План запроса в BaseX может быть представлен в текстовой форме или в графическом виде. В текстовой форме план запроса представлен в виде дерева операторов, в котором каждый оператор имеет свои аргументы и связи с другими операторами. В графическом виде план запроса может быть представлен в виде диаграммы, которая показывает операторы запроса и их связи.

Общая идея планирования запроса заключается в выборе наиболее оптимального пути выполнения запроса, чтобы минимизировать количество операций, которые необходимо выполнить, и уменьшить время выполнения запроса. В результате оптимизации план запроса в BaseX могут быть достигнуты значительные улучшения производительности запросов.

## Поддерживается ли транзакции в вашей СУБД? Если да, то расскажите о нем. Если нет, то существует ли альтернатива?
Да, BaseX поддерживает транзакции. Транзакции в BaseX используются для обеспечения целостности данных и защиты от ошибок и сбоев в базе данных.

Коротко говоря, транзакция эквивалентна команде или запросу. Таким образом, каждая команда или запрос, отправленный на сервер, становится транзакцией.
Входящие запросы на сервер разбираются и проверяются на наличие ошибок. Если команда или запрос не корректны, запрос не будет выполнен, и пользователь получит сообщение об ошибке. В противном случае запрос становится транзакцией и попадает в монитор транзакций.

## Какие методы восстановления поддердиваются в вашей СУБД. Расскажите о них
BaseX поддерживает методы восстановления из бэкапа (Backup Recovery) и восстановления с помощью команды RESTORE.

Backup Recovery: В BaseX можно создавать резервные копии базы данных с помощью команды BACKUP. Эта команда создает бэкап базы данных, который содержит все данные и индексы, необходимые для восстановления базы данных в случае сбоя. Бэкап может быть сохранен в любом месте, например, на внешнем жестком диске или в облаке.

Restore: Если в результате сбоя или ошибки база данных была повреждена или потеряна, ее можно восстановить из бэкапа с помощью команды RESTORE. Эта команда позволяет восстановить базу данных из резервной копии, включая все данные и индексы. При этом файлы журнала транзакций, созданные после создания бэкапа, будут автоматически проигнорированы.

![image](https://github.com/simon0018/DB_SBER_HOMEWORK_4/assets/89707757/704c88bf-9df8-4180-a810-c579f01feaf6)
![image](https://github.com/simon0018/DB_SBER_HOMEWORK_4/assets/89707757/49a20342-f24f-44eb-b9e6-a262ffc4f227)


## Возможно ли применить термины Data Mining, Data Warehousing и Olap в BaseX
Да, термины Data Mining и OLAP могут быть применены в контексте работы с BaseX.

BaseX может использоваться для хранения и обработки больших объемов данных, что делает его подходящим инструментом для выполнения задач Data Mining.
BaseX поддерживает OLAP-анализ данных с помощью функций XQuery, которые позволяют осуществлять многомерный анализ данных и создавать отчеты на основе запросов к базе данных.

## Какие методы защиты поддерживаются в вашей СУБД? Шифрование трафика, модели авторизации и тп
BaseX поддерживает несколько методов защиты:

1. Шифрование трафика: все соединения между клиентами и сервером могут быть защищены с помощью SSL-шифрования. Для этого требуется настроить SSL-сертификаты на сервере BaseX.

2. Аутентификация и авторизация: BaseX предоставляет несколько моделей аутентификации и авторизации, таких как базовая аутентификация, XQuery-аутентификация, аутентификация LDAP и Kerberos. Каждый пользователь может быть назначен определенной роли с различными правами доступа к базе данных.

## Какие сообщества развивают данную СУБД? Кто в проекте имеет права на коммит и создание дистрибутива версий? Расскажите об этих дюдях или компаниях
BaseX разрабатывается и поддерживается сообществом разработчиков и пользователей, которые вносят свой вклад в проект. Главным разработчиком и руководителем проекта является Кристиан Грюндер (Christian Grünther), который также является основателем и главой компании BaseX GmbH & Co. KG. Компания BaseX GmbH & Co. KG предоставляет коммерческую поддержку и услуги по консультированию для пользователей BaseX.

Разработка BaseX ведется в открытом доступе на платформе GitHub. Все участники сообщества имеют права на коммит изменений и создание дистрибутивов версий. Репозиторий BaseX на GitHub содержит код базы данных и исходные тексты документации, а также модули и расширения, созданные сообществом.
## Создайте свои собственные данные для демонстрации работы СУБД
Представлю пример данных для демонстрации работы BaseX. Допустим, у нас есть некоторая база данных с информацией о различных книгах. Мы можем создать XML-документ, представляющий эту базу данных, и загрузить его в BaseX для выполнения запросов.

Пример XML-документа:

`
<library>
  <book id="1">
    <title>Crime and Punishment</title>
    <author>Fyodor Dostoevsky</author>
    <genre>Drama</genre>
    <published>1866</published>
    <price>12.99</price>
  </book>
  <book id="2">
    <title>War and Peace</title>
    <author>Leo Tolstoy</author>
    <genre>Historical fiction</genre>
    <published>1869</published>
    <price>14.99</price>
  </book>
  <book id="3">
    <title>To Kill a Mockingbird</title>
    <author>Harper Lee</author>
    <genre>Novel</genre>
    <published>1960</published>
    <price>9.99</price>
  </book>
  <book id="4">
    <title>The Great Gatsby</title>
    <author>F. Scott Fitzgerald</author>
    <genre>Novel</genre>
    <published>1925</published>
    <price>8.99</price>
  </book>
  <book id="5">
    <title>Pride and Prejudice</title>
    <author>Jane Austen</author>
    <genre>Novel</genre>
    <published>1813</published>
    <price>6.99</price>
  </book>
</library>
`

Этот документ содержит информацию о пяти книгах, каждая из которых представлена элементом <book> с атрибутом id. Каждый элемент <book> содержит информацию о названии книги, авторе, жанре, годе выпуска и цене.

Мы можем загрузить этот документ в BaseX с помощью следующей команды:
  
 ` 
 CREATE DB library /path/to/library.xml
  `
  
 Эта команда создаст базу данных с именем "library" и загрузит XML-документ, расположенный по пути /path/to/library.xml в эту базу данных.

Теперь мы можем выполнять запросы к этой базе данных, например, получить информацию о книгах, написанных автором Jane Austen:
  
  `
  for $book in //book[author = 'Jane Austen']
return $book
  `
  
  Этот запрос вернет следующий результат:
  `
  <book id="5">
  <title>Pride and Prejudice</title>
  <author>Jane Austen</author>
  <genre>Novel</genre>
  <published>1813</published>
  <price>6.99</price>
</book>
`
## Где найти документацию и пройти обучение 
https://docs.basex.org/wiki/Documentation
## Как быть в курсе происходящего 
On this page, you find links to the ful texts of various papers and theses published by past and current members of the BaseX team.
https://basex.org/about/publications/

